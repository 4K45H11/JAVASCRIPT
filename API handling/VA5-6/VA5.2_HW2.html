<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <h1 class="mt-3">Random User API</h1>
        <button id="getUserBtn" class="btn btn-info mt-3">Get Random User</button>
        <div class="mt-4" id="userResult"></div>
    </div>

    <script>
        const getUserBtn = document.getElementById('getUserBtn')
        const userResult = document.querySelector('#userResult')

        const apiUrl = `https://randomuser.me/api/`

        getUserBtn.addEventListener('click', function () {
            fetch(apiUrl)
                .then(function responseHandler(result) {
                    return result.json()
                })
                .then(function dataHandler(target){
                    
                    const data = target.results[0]
                    const name = data.name

                    userResult.innerHTML = `<p><strong>Name: </strong>${name.title} ${name.first} ${name.last}</p>
                    <p><strong>Email: </strong>${data.email}</p>
                    <p><strong>City: </strong>${data.location.city}</p>
                    `
                    //console.log(data)
                })
                .catch(function errorPrint(error){
                    userResult.textContent = `Some error happended while fetching API`
                })

        })
    </script>
</body>

</html>