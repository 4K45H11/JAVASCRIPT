<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Details</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body>
    <header class="bg-dark text-light text-center py-3">
        <!-- <nav>
            <a href="index.html">Company Logo</a>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="employees.html">Employees</a></li>
            </ul>
        </nav> -->
        <h1>Employee Details:</h1>
    </header>
    <main class="mt-4 container">
        <section id="employeeDetais"></section>
    </main>
    <footer>

    </footer>

    <script>
        let employees = [
            {
                id: "1",
                name: "John Doe",
                title: "Software Developer",
                dept: "IT"
            },
            {
                id: "2",
                name: "Jane Smith",
                title: "Designer",
                dept: "Design"
            },
            {
                id: "3",
                name: "Rob Johnson",
                title: "Project Manager",
                dept: "Management"
            },
            {
                id: "4",
                name: "Akash Jana",
                title: "Full-Stack Ddeveloper",
                dept: "IT"
            }
        ]

        function getParameterById(id) {
            let url = new URL(window.location.href)
            return url.searchParams.get(id)
        }
        let emploYeeId = getParameterById('id')

        let employee;

        for (let i = 0; i < employees.length; i++) {
            if (employees[i].id === emploYeeId) employee = employees[i]
        }

        let employeeDetailElement = document.getElementById('employeeDetais')

        function generateEmpDetails(){
            const card = document.createElement('div')
            card.className = 'card'

            const cardBody = document.createElement('div')
            cardBody.className = 'card-body'

            const h2 = document.createElement('h2')
            h2.className = 'card-title'
            h2.textContent = `${employee.name}`
            cardBody.appendChild(h2)

            const ul = document.createElement('ul')
            ul.className = 'list-group list-group-flush'

            const li1 = document.createElement('li')
            li1.className = 'list-group-item'
            li1.textContent = `Name: ${employee.name}`
            ul.appendChild(li1)

            const li2 = document.createElement('li')
            li2.className = 'list-group-item'
            li2.textContent = `Designation: ${employee.title}`
            ul.appendChild(li2)

            const li3 = document.createElement('li')
            li3.className = 'list-group-item'
            li3.textContent = `Departmnet: ${employee.dept}`
            ul.appendChild(li3)

            cardBody.appendChild(ul)
            card.appendChild(cardBody)
            employeeDetailElement.appendChild(card)

        }

        //console.log(employee)

        if (employee) {

            generateEmpDetails()
        }
        else employeeDetailElement.innerHTML = `
            <p>Sorry! No employee details found.</p>
        `
    </script>
</body>

</html>